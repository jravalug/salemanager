{% extends "base.html" %} {% block content %}
<h2>Gesti√≥n de Items</h2>

<!-- Formulario para agregar un nuevo item -->
<form method="POST" action="{{ url_for('main.items') }}">
  <h3>Agregar Nuevo Item</h3>
  <label for="name">Nombre:</label>
  <input type="text" id="name" name="name" required />
  <label for="price">Precio:</label>
  <input type="number" step="0.01" id="price" name="price" required />
  <button type="submit">Agregar Item</button>
</form>

<!-- Listado de items -->
<h3>Listado de Items</h3>
<table>
  <tr>
    <th>ID</th>
    <th>Nombre</th>
    <th>Precio</th>
    <th>Acciones</th>
  </tr>
  {% for item in items %}
  <tr>
    <td>{{ item.id }}</td>
    <td>{{ item.name }}</td>
    <td>${{ "%.2f"|format(item.price) }}</td>
    <td>
      <!-- Formulario para modificar un item -->
      <form
        method="POST"
        action="{{ url_for('main.update_item', item_id=item.id) }}"
      >
        <input type="text" name="name" value="{{ item.name }}" required />
        <input
          type="number"
          step="0.01"
          name="price"
          value="{{ item.price }}"
          required
        />
        <button type="submit">Actualizar</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock %}
